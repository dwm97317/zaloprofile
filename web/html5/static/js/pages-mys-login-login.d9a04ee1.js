(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mys-login-login"],{"1f61":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".bangdindixlog[data-v-72a504cd]{width:100%;position:absolute;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.3);z-index:4}.codebangdindixlog[data-v-72a504cd]{margin:15px 0;display:flex;align-items:flex-end;align-items:center;justify-content:space-between;padding:3px 20px!important;height:35px;overflow:hidden;background:#f0f0f0;border-radius:.920139rem;margin-top:10px}.btns uni-view[data-v-72a504cd]{display:inline-block;font-weight:200;padding:4px 7px;color:#fff;border-radius:3px;background-color:#8f939c;border-width:1px;border-style:solid;border-color:#8f939c;margin-right:10px}.btns uni-view.surebangdin[data-v-72a504cd]{background-color:#f6c416;border-color:#f6c416;color:#000}.btns[data-v-72a504cd]{text-align:right}.codeslide[data-v-72a504cd]{display:flex;align-items:flex-end;align-items:center;justify-content:space-between;overflow:hidden;margin-top:10px}.codeslide uni-view[data-v-72a504cd]{margin-right:10px}.phonecode[data-v-72a504cd]{width:72%}.box[data-v-72a504cd]{width:84%;position:absolute;bottom:30%;left:3%;z-index:5;background-color:#fff;padding:10% 5%;border-radius:6px}.phonebangdin[data-v-72a504cd]{font-size:16px}.baoguo_guize[data-v-72a504cd]{background:rgba(0,0,0,.5);width:100%;height:100%;position:fixed;top:0;left:0;z-index:100;display:flex;align-items:center;justify-content:center}.baoguo_guize_banner[data-v-72a504cd]{background:#fff;padding:%?20?% %?20?% 0 %?20?%;margin:%?30?%;border-radius:%?8?%;overflow:scroll;height:60vh}.baoguo_guize_cont[data-v-72a504cd]{font-size:%?32?%;line-height:%?45?%;margin-top:%?20?%;color:#333}.baoguo_guize_cont[data-v-72a504cd]:first-child{margin-top:0}.baoguo_guize_title[data-v-72a504cd]{font-size:%?36?%;color:#333;text-align:center;margin-bottom:%?30?%}.baoguo_guize_btns[data-v-72a504cd]{border-top:1px solid #e8e8e8;padding:%?30?%;margin-top:%?30?%}.baoguo_guize_btns_txt[data-v-72a504cd]{font-size:%?35?%;text-align:center}.baoguo_guize_list[data-v-72a504cd]{height:%?700?%;overflow-y:auto}uni-rich-text[data-v-72a504cd]{font-size:%?28?%;color:#333;line-height:%?50?%}uni-page-body[data-v-72a504cd]{background-color:#fff}body.?%PAGE?%[data-v-72a504cd]{background-color:#fff}.agree[data-v-72a504cd]{padding:20px 0;font-size:14px;color:#444}.agree uni-text[data-v-72a504cd]{color:#f6c416}.logotwo[data-v-72a504cd]{display:flex;align-items:center;justify-content:space-evenly;margin-top:40px}.logotwo uni-view[data-v-72a504cd]{text-align:center;font-size:12px;color:#666}.logotwo uni-image[data-v-72a504cd]{width:40px;display:block;height:40px;margin:0 auto 6px}.smallgray[data-v-72a504cd]{font-size:12px;color:#666;padding:10px 0 20px;text-align:center}.logintitle[data-v-72a504cd]{color:rgba(0,0,0,.8);margin:0;font-size:18px;padding:20px 0;text-align:center;font-weight:700}.logo[data-v-72a504cd]{width:48px;height:48px;display:block;margin:20px auto 10px}.img_small[data-v-72a504cd]{text-align:center;font-size:14px;color:#666}.input[data-v-72a504cd]{border:.104167rem solid hsla(0,0%,100%,0);height:35px;padding:3px 20px!important;overflow:hidden;background:#f0f0f0;transition:border .3s cubic-bezier(.4,0,.2,1) 0ms;border-radius:.920139rem;margin-top:30px}.code[data-v-72a504cd]{width:60%}.inputword[data-v-72a504cd]{width:89%;margin:20px auto}.code[data-v-72a504cd]{width:60%!important}.flex[data-v-72a504cd]{display:flex;align-items:flex-end;align-items:center;justify-content:space-between;padding:3px 20px!important;height:35px;overflow:hidden;background:#f0f0f0;border-radius:.920139rem;margin-top:10px}.login[data-v-72a504cd]{width:100%;font-size:17px;background:linear-gradient(180deg,#3375ff,#1a65ff);border-radius:27px;padding:11px 0;text-align:center;font-weight:400;color:#fff;margin-top:20px}",""]),e.exports=t},"3fe2":function(e,t,n){e.exports=n.p+"static/img/wxlogin.73fbb928.png"},"66a0":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("466d"),n("841c"),n("5319");var i=getApp(),a=n("d3a9"),o=n("98ce"),s={data:function(){return{checkbindphone:!1,platfrom:o.default,bangdincode:"",bangdinphone:"",searchForm:{searchMatterEnumCode:86,searchMatterEnumName:"HongKong"},code:"",imgUrl:i.globalData.imgUrl,guizeshow:!1,phone:null,times:60,smsState:!1,password:null,checkagree:!1,article_content:"",defaultIndex:[0],guizes:{article_title:""},is_phone:0,columns:[],pickerShow:!1}},mounted:function(){this.guize(),this.getCountryQianZhui(),console.log(o,99),uni.setStorageSync("token","")},methods:{pickerConfirm:function(e){console.log("点击确定",e),this.defaultIndex=e.detail.value,this.searchForm.searchMatterEnumCode=this.columns[e.detail.value].areanum,this.searchForm.searchMatterEnumName=this.columns[e.detail.value].cname},getCode:function(){var e=this;if(!this.bangdinphone)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;var t={form:{mobile:this.bangdinphone,tel_code:this.searchForm.searchMatterEnumCode,type:40}};a.post("index.php?s=/api/captcha/sendSmsCaptcha&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){1==t.data.code&&e.timer()}))},timer:function(){var e=this;this.smsState=!0;var t=setInterval((function(){e.times=e.times-1,e.times<=0&&(e.smsState=!1,e.times=60,clearInterval(t))}),1e3)},getCountryQianZhui:function(){var e=this;a.get("index.php?s=/api/page/getCountryQianZhui&wxapp_id="+uni.getStorageSync("web_id"),{}).then((function(t){1==t.data.code&&(e.columns=t.data.data.list,e.is_phone=t.data.data.is_phone)}))},gerenxinxi:function(){var e=this,t={token:uni.getStorageSync("token")};a.get("index.php?s=/api/user/detail&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){if(1==t.data.code){if((""==t.data.data.userInfo.mobile||0==t.data.data.userInfo.mobile)&&1==uni.getStorageSync("setting")["is_getphone"])return e.checkbindphone=!0,!1;uni.showToast({title:"登录成功",icon:"success",duration:2e3}),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1e3)}}))},passlogin:function(){if(console.log(this.checkagree,999),0!=this.checkagree){var e={mobile:this.phone,password:this.password,tel_code:this.searchForm.searchMatterEnumCode};a.post("index.php?s=api/passport/loginMpWxMobile&wxapp_id="+uni.getStorageSync("web_id"),e).then((function(e){if(1!=e.data.code)return uni.showToast({title:e.data.msg,icon:"none",duration:2e3}),!1;console.log(e.data.data.token,786),uni.setStorageSync("token",e.data.data.token),uni.showToast({title:"登录成功",icon:"none",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/my/my?islogin=true"})}),1e3)}))}else uni.showToast({title:"请选勾选隐私协议",icon:"none"})},H5weixinChange:function(){var e=this,t=this.getUrlParam("code"),n=window.location.href;console.log(t,8676);encodeURIComponent(n);if(null==t||""===t)this.getUserProfile();else{var i={code:t};a.post("index.php?s=/api/user/loginwx&wxapp_id="+uni.getStorageSync("web_id"),i).then((function(t){console.log(t,678),e.token=t.data.data.token,uni.setStorageSync("token",e.token),uni.navigateTo({url:"/pages/my/my"})}))}},getUserProfile:function(){this.islogin||("H5-WEIXIN"==o.default?a.post("index.php?s=/api/user/getCode&wxapp_id="+uni.getStorageSync("web_id")).then((function(e){console.log(e,78),window.location=e.data})):uni.navigateTo({url:"/pages/mys/login/login"}))},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},loginChange:function(){var e=this;uni.getUserProfile({desc:"用于完善会员资料",success:function(t){uni.login({success:function(n){if(n.code){var i=n.code;uni.setStorageSync("userInfo",t.userInfo);var o=uni.getStorageSync("userInfo"),s={code:i,user_info:o,from:"common",encrypted_data:t.encryptedData,iv:t.iv,signature:t.signature,referee_id:uni.getStorageSync("referee_id")};a.post("index.php?s=/api/user/login&wxapp_id="+uni.getStorageSync("web_id"),s).then((function(t){console.log(t,"22222"),1==t.data.code&&(e.token=t.data.data.token,uni.setStorageSync("token",e.token),uni.navigateTo({url:"/pages/my/my"}))}))}else uni.showToast({title:"网络似乎开小差了！",icon:"none",duration:2e3})}})},fail:function(e){uni.showToast({title:"您没有登录，将无法使用部分功能！",icon:"none",duration:2e3})}})},bindphone:function(e){console.log(this.code,3567);if(!e)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;var t={token:uni.getStorageSync("token"),mobile:this.bangdinphone,smsCode:this.code};a.get("index.php?s=/api/user/changePhone&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(e){1==e.data.code?(uni.showToast({title:e.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1e3)):uni.showToast({title:e.data.msg,icon:"none",duration:2e3})}))},zhuce:function(){uni.navigateTo({url:"zhuce/zhuce"})},findpassword:function(){uni.navigateTo({url:"zhaohuimima/findpassword"})},jump:function(e){console.log(e),uni.navigateTo({url:e})},isguizeshows:function(){this.guizeshow=!1},checkagreeFun:function(){this.checkagree?this.checkagree=!1:this.checkagree=!0,console.log(this.checkagree,988)},guizeshows:function(){this.guizeshow=!0},guize:function(){var e=this,t={token:uni.getStorageSync("token")};a.post("index.php?s=/api/page/report_note&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){if(1==t.data.code){var n=t.data.data.detail.article_content;n=n.replace(/<img/gi,'<img style="max-width:100%;height:auto;display:block" '),e.guizes=t.data.data.detail,e.article_content=n}}))}}};t.default=s},"8ab6":function(e,t,n){"use strict";var i=n("ac94"),a=n.n(i);a.a},aaab:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticStyle:{"margin-top":"30px"}},[i("v-uni-view",{staticClass:"logintitle"},[e._v("登录")]),i("v-uni-view",{staticClass:"img_small"}),i("v-uni-view",{staticClass:"inputword"},[i("v-uni-view",{staticClass:"flex"},[1==e.is_phone?i("v-uni-view",{staticStyle:{width:"65px","border-right":"1px solid #d9d9d9"}},[i("v-uni-picker",{attrs:{mode:"selector",value:e.defaultIndex,range:e.columns,"range-key":"cname"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerConfirm.apply(void 0,arguments)}}},[i("v-uni-view",[e._v("+ "+e._s(e.searchForm.searchMatterEnumCode))])],1)],1):e._e(),i("v-uni-view",{staticClass:"phonecode"},[i("v-uni-input",{attrs:{border:"none",placeholder:"请输入手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1),i("v-uni-view",{staticClass:"flex"},[i("v-uni-input",{staticClass:"code",attrs:{border:"none",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),i("v-uni-view",{staticClass:"login",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.passlogin.apply(void 0,arguments)}}},[e._v("登录")]),i("v-uni-view",{staticClass:"agree"},[i("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{color:"#F6C416",checked:e.checkagree},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.checkagreeFun.apply(void 0,arguments)}}}),e._v("我已同意"),i("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.guizeshows.apply(void 0,arguments)}}},[e._v("『用户隐私协议』")])],1),i("v-uni-view",{staticClass:"logotwo"},[i("v-uni-view",{staticClass:"smallgray",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.findpassword.apply(void 0,arguments)}}},[e._v("忘记密码")]),i("v-uni-view",{staticClass:"smallgray",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.zhuce.apply(void 0,arguments)}}},[e._v("快速注册")])],1),i("v-uni-view",{staticClass:"logotwo"},["H5-WEIXIN"==e.platfrom?i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.H5weixinChange.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:n("3fe2"),mode:"aspectFit"}}),i("v-uni-text",[e._v("微信登录")])],1):e._e()],1)],1),e.guizeshow?i("v-uni-view",{staticClass:"baoguo_guize"},[i("v-uni-view",{staticClass:"baoguo_guize_banner"},[i("v-uni-view",{staticClass:"baoguo_guize_title"},[e._v("《"+e._s(e.guizes.article_title)+"》")]),i("v-uni-view",{},[i("v-uni-rich-text",{attrs:{nodes:e.article_content}})],1),i("v-uni-view",{staticClass:"baoguo_guize_btns",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isguizeshows.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"baoguo_guize_btns_txt"},[e._v("我知道了")])],1)],1)],1):e._e(),e.checkbindphone?i("v-uni-view",{staticClass:"bangdindixlog"},[i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"phonebangdin"},[e._v("绑定手机号")]),i("v-uni-view",{staticClass:"codebangdindixlog"},[i("v-uni-view",{staticStyle:{width:"65px","border-right":"1px solid #d9d9d9"}},[i("v-uni-picker",{attrs:{mode:"selector",value:e.defaultIndex,range:e.columns,"range-key":"cname"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerConfirm.apply(void 0,arguments)}}},[i("v-uni-view",[e._v("+ "+e._s(e.searchForm.searchMatterEnumCode))])],1)],1),i("v-uni-view",{staticClass:"phonecode"},[i("v-uni-input",{attrs:{border:"none",placeholder:"请输入手机号"},model:{value:e.bangdinphone,callback:function(t){e.bangdinphone=t},expression:"bangdinphone"}})],1)],1),i("v-uni-view",{staticClass:"codebangdindixlog codeslide"},[i("v-uni-input",{staticClass:"code",attrs:{placeholder:"请输入验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e.smsState?i("v-uni-text",{staticClass:"un-activate"},[e._v("重新发送("+e._s(e.times)+")秒")]):i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode(e.bangdinphone)}}},[e._v("获取验证码")])],1),i("v-uni-view",{staticClass:"btns"},[i("v-uni-view",{staticClass:"cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.checkbindphone=!1,e.bangdinphone=""}}},[e._v("取消")]),i("v-uni-view",{staticClass:"surebangdin",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindphone(e.bangdinphone,e.code)}}},[e._v("绑定")])],1)],1)],1):e._e()],1)},a=[]},ac94:function(e,t,n){var i=n("1f61");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("668435e8",i,!0,{sourceMap:!1,shadowMode:!1})},b225:function(e,t,n){"use strict";n.r(t);var i=n("aaab"),a=n("d280");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("8ab6");var s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"72a504cd",null,!1,i["a"],void 0);t["default"]=c.exports},d280:function(e,t,n){"use strict";n.r(t);var i=n("66a0"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a}}]);
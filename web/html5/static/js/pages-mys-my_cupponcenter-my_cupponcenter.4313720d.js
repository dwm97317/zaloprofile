(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mys-my_cupponcenter-my_cupponcenter"],{"3c11":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f");var n=getApp(),a=i("d3a9"),o={data:function(){return{navH:n.globalData.navHeight,gaodu:n.globalData.height,gaodutops:n.globalData.top,imgUrl:n.globalData.imgUrl,price_mode:uni.getStorageSync("price_mode"),malllist:[{id:0,name:"满减券"},{id:1,name:"折扣券"},{id:2,name:"任务送"}],height:0,heights:0,currentIndex:0,left:16,false:!1,width:0,cupponlist:[]}},onLoad:function(){this.changeline()},onShow:function(){this.getCouponList()},onReady:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getCouponList:function(){var t=this,e={token:uni.getStorageSync("token"),coupon_type:this.currentIndex};a.get("index.php?s=/api/coupon/lists&wxapp_id="+uni.getStorageSync("web_id"),e).then((function(e){console.log(e.data.data.list,888),t.cupponlist=e.data.data.list,setTimeout((function(){t.swiperhegiht(t.currentIndex)}),300)}))},receive:function(t){console.log(t,645);var e=this,i=t.currentTarget.dataset.couponId,n={token:uni.getStorageSync("token"),coupon_id:i};a.post("index.php?s=/api/user.coupon/receive&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(t){uni.showToast({title:t.data.msg}),e.getCouponList()}))},pagechange:function(t){this.swiperhegiht(t.detail.current),this.changeline(),this.getCouponList()},getcurrentid:function(t){console.log(t,6543),this.currentIndex=t.currentTarget.dataset.id,console.log(this.currentIndex,5444)},swiperhegiht:function(t){console.log(t,6544);var e=this,i=uni.createSelectorQuery();i.selectAll(".index_list_heji"+t).boundingClientRect(),i.exec((function(t){console.log(t,"65675323456");var i=t[0][0].height;e.height=i+"px",e.heights=t[0]}))},changeline:function(t){var e=uni.createSelectorQuery(),i=this;e.select(".mall_on").boundingClientRect(),e.exec((function(t){console.log(t,"????"),null!=t[0]?(i.left=t[0].left,i.width=t[0].width):i.left=0}))},jumpzuo:function(){uni.navigateBack()}}};e.default=o},4819:function(t,e,i){var n=i("b015");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("f5c076b8",n,!0,{sourceMap:!1,shadowMode:!1})},"4ed2":function(t,e,i){"use strict";i.r(e);var n=i("6e1b"),a=i("6828");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("effe");var s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"7c900074",null,!1,n["a"],void 0);e["default"]=c.exports},6828:function(t,e,i){"use strict";i.r(e);var n=i("3c11"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6e1b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"indexs"},[i("v-uni-view",{staticClass:"header header_lan",style:"padding-top: "+t.navH+"px;"},[i("v-uni-view",{staticClass:"header_height",style:"height:"+t.gaodu+"px;line-height:"+t.gaodu+"px;top:"+t.gaodutops+"px;"},[i("v-uni-view",{staticClass:"index_h_cont3"},[i("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpzuo.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:t.imgUrl+"/dzx_img22.png",mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"index_wenben baise"},[t._v("优惠券中心")])],1)],1),i("v-uni-view",{staticClass:"coloe_title"},[t._v("s")])],1),i("v-uni-view",{staticClass:"index_center",style:"padding-top:"+(t.navH+50)+"px;padding-bottom: 130rpx;"},[i("v-uni-view",{staticClass:"my_pinzhenglist_center"},[i("v-uni-view",{staticClass:"index_swiper"},[i("v-uni-view",{staticClass:"index_title"},[t._l(t.malllist,(function(e,n){return[i("v-uni-view",{key:n+"_0",class:"mall_dis "+(t.currentIndex==n?"mall_on":""),attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getcurrentid.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"mall_t1"},[t._v(t._s(e.name))])],1)]})),i("v-uni-view",{staticClass:"mys_xians_po",style:"width:"+t.width+"px;left:"+t.left+"px;"},[i("v-uni-view",{staticClass:"mys_xians"})],1)],2),i("v-uni-view",{staticClass:"index_list"},[i("v-uni-swiper",{staticClass:"swiper paid_list_cont",style:"height:"+t.height+";",attrs:{current:t.currentIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pagechange.apply(void 0,arguments)}}},[t._l(t.malllist,(function(e,n){return[i("v-uni-swiper-item",[i("v-uni-view",{class:"index_list_heji"+n},[0!=t.cupponlist.length?i("v-uni-view",{staticClass:"my_yhq_list"},t._l(t.cupponlist,(function(e,n){return i("v-uni-view",{key:n,staticClass:"my_yhq_cont",style:""==e.state.value?"filter: grayscale(1)":""},[10==e.color.value?i("v-uni-image",{attrs:{src:t.imgUrl+"/dzx_img139.png"}}):t._e(),20==e.color.value?i("v-uni-image",{staticStyle:{filter:"hue-rotate(100deg)"},attrs:{src:t.imgUrl+"/dzx_img139.png"}}):t._e(),30==e.color.value?i("v-uni-image",{staticStyle:{filter:"hue-rotate(20deg)"},attrs:{src:t.imgUrl+"/dzx_img139.png"}}):t._e(),40==e.color.value?i("v-uni-image",{staticStyle:{filter:"hue-rotate(200deg)"},attrs:{src:t.imgUrl+"/dzx_img139.png"}}):t._e(),i("v-uni-view",{staticClass:"my_yhq_cont_txt"},[i("v-uni-view",{staticClass:"my_yhq_cont_l"},[i("v-uni-view",{staticClass:"my_yhq_cont_t1"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"my_yhq_cont_t2",staticStyle:{"margin-left":"24rpx"}},[t._v("仅限部分渠道可用")]),20==e.expire_type?i("v-uni-view",{staticClass:"my_yhq_cont_t3"},[t._v("有效期至"+t._s(e.start_time.text)+"-"+t._s(e.end_time.text))]):t._e(),10==e.expire_type?i("v-uni-view",{staticClass:"my_yhq_cont_t3"},[t._v("领取后有效天数 "+t._s(e.expire_day)+"天")]):t._e()],1),i("v-uni-view",{staticClass:"my_yhq_cont_r"},[20==e.coupon_type.value?i("v-uni-view",{staticClass:"my_yhq_cont_t4"},[t._v(t._s(e.discount)+"折")]):t._e(),10==e.coupon_type.value?i("v-uni-view",{staticClass:"my_yhq_cont_t4"},[t._v(t._s(t.price_mode.unit)+t._s(e.reduce_price))]):t._e(),i("v-uni-view",{staticClass:"my_yhq_cont_t2"},[t._v("满"+t._s(e.min_price)+"可用")]),1==e.state.value?i("v-uni-view",{staticClass:"my_yhq_cont_t5",attrs:{"data-coupon-id":e.coupon_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.receive.apply(void 0,arguments)}}},[t._v("点击领取")]):t._e(),""==e.state.value?i("v-uni-view",{staticClass:"my_yhq_cont_t5"},[i("v-uni-text",[t._v(t._s(e.state.text))])],1):t._e()],1)],1)],1)})),1):i("v-uni-view",{staticClass:"my_yhq_kong"},[i("v-uni-image",{attrs:{src:t.imgUrl+"/dzx_img142.png"}}),i("v-uni-text",[t._v("当前暂无优惠券")])],1)],1)],1)]}))],2)],1)],1)],1)],1)],1)},a=[]},b015:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"/* swiper选项卡 */.mys_xians[data-v-7c900074]{width:%?58?%;height:%?10?%;background:#006efe;border-radius:%?8?%}.mys_xians_po[data-v-7c900074]{position:absolute;text-align:center;bottom:0;display:flex;justify-content:center;transition:all .3s linear}.mall_dis[data-v-7c900074]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:%?24?% 0 %?14?% 0;position:relative}.mall_t1[data-v-7c900074]{font-size:%?30?%;font-weight:400;color:#333}.mall_t2[data-v-7c900074]{font-size:%?24?%;background:#fff;border-radius:%?50?%;padding:%?4?% %?15?%;font-weight:400;margin-top:%?10?%;color:#999}.mall_on uni-view[data-v-7c900074]{color:#006efe!important;font-size:%?30?%;font-weight:600}.mall_xian[data-v-7c900074]{position:absolute;right:0;top:%?8?%;width:%?2?%;height:%?30?%;background:#d8d8d8}.mall_dis:last-child .mall_xian[data-v-7c900074]{display:none}.mall_on[data-v-7c900074]{color:#ff6647}.mall_banner[data-v-7c900074]{background:#ff6647;color:#fff}.index_cont1_top[data-v-7c900074]{background:#fff;border-top-right-radius:%?50?%;padding:%?32?% 0 %?26?% 0;border-top-left-radius:%?50?%}.swiper[data-v-7c900074]{width:100%}.index_swiper[data-v-7c900074]{position:relative}.index_title[data-v-7c900074]{display:flex;align-items:center;justify-content:space-between;padding:0 %?70?%;background:#fff;position:relative}.index_imgs_i[data-v-7c900074]{transition:all .3s linear;position:absolute;text-align:center;top:%?25?%}.index_imgs_i uni-image[data-v-7c900074]{width:%?42?%;height:%?8?%}.index_txt[data-v-7c900074]{font-size:%?28?%;color:#333;font-weight:700}.index_on[data-v-7c900074]{font-size:%?32?%;color:#333;font-weight:700}.goldimg[data-v-7c900074]{width:%?26?%;height:%?26?%;margin-left:%?8?%}.index_lists[data-v-7c900074]{padding:%?40?% 0}uni-page-body[data-v-7c900074]{background:#f4f8fb}body.?%PAGE?%[data-v-7c900074]{background:#f4f8fb}.my_yhq_cont[data-v-7c900074]{position:relative;font-size:0;width:100%;margin-top:%?22?%}.my_yhq_cont[data-v-7c900074]:first-child{margin-top:0}.my_yhq_cont uni-image[data-v-7c900074]{width:100%;height:%?204?%}.my_yhq_list[data-v-7c900074]{padding:%?22?% %?32?%}.my_yhq_cont_txt[data-v-7c900074]{position:absolute;top:0;left:0;width:100%;align-items:flex-start;display:flex;padding:%?24?% 0;justify-content:space-between}.my_yhq_cont_l[data-v-7c900074]{width:67%}.my_yhq_cont_r[data-v-7c900074]{width:33%;display:flex;align-items:center;flex-direction:column;justify-content:center}.my_yhq_cont_t1[data-v-7c900074]{font-size:%?34?%;font-weight:600;margin-left:%?24?%;color:#006efe;line-height:%?50?%}.my_yhq_cont_t2[data-v-7c900074]{font-size:%?24?%;font-weight:400;margin-top:%?6?%;color:#006efe;line-height:%?34?%}.my_yhq_cont_t3[data-v-7c900074]{font-size:%?20?%;margin-left:%?24?%;font-weight:400;margin-top:%?30?%;color:#006efe;line-height:%?30?%}.my_yhq_cont_t4[data-v-7c900074]{font-size:%?44?%;font-weight:600;color:#006efe;line-height:%?62?%}.my_yhq_cont_t5[data-v-7c900074]{font-size:%?20?%;font-weight:400;padding:%?10?% %?30?%;background:linear-gradient(180deg,#3273f7,#3e89f7);border-radius:%?50?%;color:#fff;margin-top:%?14?%;line-height:%?30?%}.my_yhq_cont_t6[data-v-7c900074]{font-size:%?20?%;font-weight:400;padding:%?10?% %?30?%;background:#d7d7d7;border-radius:%?50?%;color:#fff;margin-top:%?14?%;line-height:%?30?%}.huise[data-v-7c900074]{color:#7a7a7b!important}.my_yhq_kong[data-v-7c900074]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:%?160?%;width:100%}.my_yhq_kong uni-image[data-v-7c900074]{width:%?594?%;height:%?284?%}.my_yhq_kong uni-text[data-v-7c900074]{font-size:%?28?%;font-weight:400;margin-top:%?4?%;color:#666;line-height:%?42?%}",""]),t.exports=e},effe:function(t,e,i){"use strict";var n=i("4819"),a=i.n(n);a.a}}]);